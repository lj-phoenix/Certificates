import{r as s,a as x}from"./vendor.07a30449.js";import{R as m}from"./index.aea3ddb5.js";const k=(d,a)=>{const{onComplete:u=c=>{},success:r=c=>{},error:g=c=>{},...i}=d,[w,o]=s.exports.useState(null),[f,n]=s.exports.useState(!1),[p,l]=s.exports.useState(!0);return s.exports.useEffect(function(){let c=x.CancelToken.source();return n(!1),l(!0),window.api(i).then(e=>{if(m(),u(e),r(e),a)if(typeof a=="function")o(a(e));else if(typeof a=="string")o(e.data[a]);else throw{response:{data:{message:"Please select responsekey as funciton or string"}}};else o(e.data);n(!0),l(!1)}).catch(e=>{window.Notify({status:"error",message:window.handleError(e)}),u(e),g(e),n(!0),l(!1)}),function(){c.cancel("Cancelling in cleanup")}},[]),{data:w,setData:o,loadingDone:f,isLoading:p}},D=()=>{const[d,a]=s.exports.useState(null),[u,r]=s.exports.useState(!1),[g,i]=s.exports.useState(!1);return{data:d,setData:a,loadingDone:u,isLoading:g,callback:function(o,f){const{onComplete:n=t=>{},success:p=t=>{},error:l=t=>{},...c}=o;let e=x.CancelToken.source();return r(!1),i(!0),window.api(c).then(t=>{m(),n(t),p(t),a(f?t.data[f]:t.data),r(!0),i(!1)}).catch(t=>{window.Notify({status:"error",message:window.handleError(t)}),n(t),l(t),r(!0),i(!1)}),function(){e.cancel("Cancelling in cleanup")}}}};export{k as a,D as u};
