import{r as a,a as x}from"./vendor.07a30449.js";import{R as m}from"./index.40d0d14e.js";const k=(d,s)=>{const{onComplete:u=c=>{},success:r=c=>{},error:g=c=>{},...i}=d,[w,o]=a.exports.useState(null),[f,n]=a.exports.useState(!1),[p,l]=a.exports.useState(!0);return a.exports.useEffect(function(){let c=x.CancelToken.source();return n(!1),l(!0),window.api(i).then(e=>{if(m(),u(e),r(e),s)if(typeof s=="function")o(s(e));else if(typeof s=="string")o(e.data[s]);else throw{response:{data:{message:"Please select responsekey as funciton or string"}}};else o(e.data);n(!0),l(!1)}).catch(e=>{window.Notify({status:"error",message:window.handleError(e)}),u(e),g(e),n(!0),l(!1)}),function(){c.cancel("Cancelling in cleanup")}},[]),{data:w,setData:o,loadingDone:f,isLoading:p}},D=()=>{const[d,s]=a.exports.useState(null),[u,r]=a.exports.useState(!1),[g,i]=a.exports.useState(!1);return{data:d,setData:s,loadingDone:u,isLoading:g,callback:function(o,f){const{onComplete:n=t=>{},success:p=t=>{},error:l=t=>{},...c}=o;let e=x.CancelToken.source();return r(!1),i(!0),window.api(c).then(t=>{m(),n(t),p(t),s(f?t.data[f]:t.data),r(!0),i(!1)}).catch(t=>{window.Notify({status:"error",message:window.handleError(t)}),n(t),l(t),r(!0),i(!1)}),function(){e.cancel("Cancelling in cleanup")}}}};export{k as a,D as u};
